<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to Working with MRI Data in Python: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="background-color: #FFC700; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
            Alpha
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to Working with MRI Data in Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to Working with MRI Data in Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to Working with MRI Data in Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->
      
            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="before-we-start.html">1. Before we start</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="scanner-to-computer.html">2. From the scanner to our computer</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="anatomy-of-nifti.html">3. Anatomy of a NIfTI</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="data-organization-bids.html">4. Data organization with BIDS</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="open-mri-datasets.html">5. Exploring open MRI datasets</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="bids-derivatives.html">6. BIDS derivatives</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li>
<li><a href="reference.html">Glossary</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width resources">
<a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">
            
            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-before-we-start"><p>Content from <a href="before-we-start.html">Before we start</a></p>
<hr>
<p>Last updated on 2024-02-18 |
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/episodes/before-we-start.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is Python and why should I learn it?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Present motivations for using Python.</li>
<li>Organize files and directories for a set of analyses as a Python
project.</li>
<li>How to work with Jupyter Notebook.</li>
<li>Know where to find help.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>This overview have been adapted from the <a href="https://datacarpentry.org/python-ecology-lesson/" class="external-link">Data Carpentry
Python Lessons with Ecological Data</a>.</p>
<section id="why-python"><h2 class="section-heading">Why Python?<a class="anchor" aria-label="anchor" href="#why-python"></a>
</h2>
<hr class="half-width">
<p>Python is rapidly becoming the standard language for data analysis,
visualization and automated workflow building. It is a free and
open-source software that is relatively easy to pick up by new
programmers and is available on multiple operating systems. In addition,
with Python packages such as <code>Jupyter</code> one can keep an
interactive code journal of analysis - this is what we’ll be using in
the workshop. Using Jupyter notebooks allows you to keep a record of all
the steps in your analysis, enabling reproducibility and ease of code
sharing.</p>
<p>Another advantage of Python is that it is maintained by a large
user-base. Anyone can easily make their own Python packages for others
to use. Therefore, there exists a <em>very</em> large codebase for you
to take advantage of for your neuroimaging analysis; from basic
statistical analysis, to brain visualization tools, to advanced machine
learning and multivariate methods!</p>
</section><section id="knowing-your-way-around-anaconda-and-jupyter"><h2 class="section-heading">Knowing your way around Anaconda and Jupyter<a class="anchor" aria-label="anchor" href="#knowing-your-way-around-anaconda-and-jupyter"></a>
</h2>
<hr class="half-width">
<p>The <a href="https://www.anaconda.com" class="external-link">Anaconda</a> distribution of
Python includes a lot of its popular packages, such as the IPython
console, and Jupyter Notebook. Have a quick look around the Anaconda
Navigator. You can launch programs from the Navigator or use the command
line.</p>
<p>The <a href="https://jupyter.org" class="external-link">Jupyter notebook</a> is an
open-source web application that allows you to create and share
documents that allow one to create documents that combine code, graphs,
and narrative text. If you have not worked with Jupyter notebooks
before, you might start with the <a href="https://jupyter.org/try" class="external-link">tutorial from Jupyter.org</a> called “Try
Classic Notebook”.</p>
<p>Anaconda also comes with a package manager called <a href="https://conda.io/docs/" class="external-link">conda</a>, which makes it easy to install
and update additional packages.</p>
</section><section id="organizing-your-working-directory"><h2 class="section-heading">Organizing your working directory<a class="anchor" aria-label="anchor" href="#organizing-your-working-directory"></a>
</h2>
<hr class="half-width">
<p>Using a consistent folder structure across your projects will help
you keep things organized, and will also make it easy to find/file
things in the future. This can be especially helpful when you have
multiple projects. In general, you may wish to create separate
directories for your scripts, data, and documents.</p>
<p>This lesson uses the following folders to keep things organized:</p>
<ul>
<li><p><strong><code>data/</code></strong>: Use this folder to store
your raw data. For the sake of transparency and provenance, you should
always keep a copy of your <strong>raw data</strong>. If you need to
cleanup data, do it programmatically (<em>i.e.</em> with scripts) and
make sure to separate cleaned up data from the raw data. For example,
you can store raw data in files <code>./data/raw/</code> and clean data
in <code>./data/clean/</code>.</p></li>
<li><p><strong><code>code/</code></strong>: Use this folder to store
your (Python) scripts for data cleaning, analysis, and plotting that you
use in this particular project. This folder contains all of the Jupyter
notebooks used in the lesson.</p></li>
<li><p><strong><code>files/</code></strong>: Use this folder to store
any miscellaneous outlines, drafts, and other text. This folder contains
a set of Powerpoint slides that will be used for parts of the
lesson.</p></li>
</ul></section><section id="how-to-learn-more-after-the-workshop"><h2 class="section-heading">How to learn more after the workshop?<a class="anchor" aria-label="anchor" href="#how-to-learn-more-after-the-workshop"></a>
</h2>
<hr class="half-width">
<p>The material we cover during this workshop will give you an initial
taste of how you can use Python to analyze MRI data for your own
research. However, you will need to learn more to do advanced operations
such as working with specific MRI modalities, cleaning your dataset,
using statistical methods, or creating beautiful graphics. The best way
to become proficient and efficient at Python, as with any other tool, is
to use it to address your actual research questions. As a beginner, it
can feel daunting to have to write a script from scratch, and given that
many people make their code available online, modifying existing code to
suit your purpose might make it easier for you to get started.</p>
</section><section id="seeking-help"><h2 class="section-heading">Seeking help<a class="anchor" aria-label="anchor" href="#seeking-help"></a>
</h2>
<hr class="half-width">
<ul>
<li>check under the <em>Help</em> menu</li>
<li>type <code>help()</code>
</li>
<li>type <code>?object</code> or <code>help(object)</code> to get
information about an object</li>
<li><a href="https://www.python.org/doc" class="external-link">Python documentation</a></li>
<li><a href="https://nipy.org/nibabel/manual.html#manual" class="external-link">NiBabel
documentation</a></li>
</ul>
<p>Finally, a generic Google or internet search “Python task” will often
either send you to the appropriate module documentation or a helpful
forum where someone else has already asked your question.</p>
<p>I am stuck… I get an error message that I don’t understand. Start by
googling the error message. However, this doesn’t always work very well,
because often, package developers rely on the error catching provided by
Python. You end up with general error messages that might not be very
helpful to diagnose a problem (e.g. “subscript out of bounds”). If the
message is very generic, you might also include the name of the function
or package you’re using in your query.</p>
<p>You can also check <a href="https://stackoverflow.com" class="external-link">Stack
Overflow</a>. Most questions have already been answered, but the
challenge is to use the right words in the search to find the
answers.</p>
<p>Another helpful resource specific to the neuroimaging community is <a href="https://neurostars.org/" class="external-link">NeuroStars</a>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Python is an open source and platform independent programming
language.</li>
<li>Jupyter Notebook is a great tool to code in and interact with
Python.</li>
<li>With the large Python community it is easy to find help on the
internet.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-scanner-to-computer"><p>Content from <a href="scanner-to-computer.html">From the scanner to our computer</a></p>
<hr>
<p>Last updated on 2024-02-28 |
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/episodes/scanner-to-computer.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are the main MRI modalities?</li>
<li>What’s the first step necessary to start working with MRI data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand how different MRI modalities differ and what each one
represents</li>
<li>Become familiar with converting MRI data from DICOM to NIfTI</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="types-of-mr-scans"><h2 class="section-heading">Types of MR scans<a class="anchor" aria-label="anchor" href="#types-of-mr-scans"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="anatomical">Anatomical<a class="anchor" aria-label="anchor" href="#anatomical"></a>
</h3>
<figure><img src="fig/t1t2flairbrain.jpg" class="figure mx-auto d-block"></figure><p><em>Sourced from <a href="https://case.edu/med/neurology/NR/MRI%20Basics.htm" class="external-link">https://case.edu/med/neurology/NR/MRI%20Basics.htm</a></em></p>
<ul>
<li>3D image of anatomy (i.e., shape, volume, cortical thickness, brain
region)</li>
<li>can differentiate tissue types</li>
</ul>
</div>
<div class="section level3">
<h3 id="functional">Functional<a class="anchor" aria-label="anchor" href="#functional"></a>
</h3>
<figure><img src="fig/bold.gif" class="figure mx-auto d-block"></figure><figure><img src="fig/fmri_timeseries.png" class="figure mx-auto d-block"></figure><p><em>Sourced from Wagner and Lindquist, 2015</em></p>
<ul>
<li>tracks the blood oxygen level-dependant (BOLD) signal as an analogue
of brain activity</li>
<li>4D image (x, y, z + time)</li>
</ul>
</div>
<div class="section level3">
<h3 id="diffusion">Diffusion<a class="anchor" aria-label="anchor" href="#diffusion"></a>
</h3>
<figure><img src="fig/dwi.gif" class="figure mx-auto d-block"></figure><figure><img src="fig/dwi_tracts.png" class="figure mx-auto d-block"></figure><p><em>Sourced from <a href="https://brainsuite.org/processing/diffusion/tractography/" class="external-link">http://brainsuite.org/processing/diffusion/tractography/</a></em></p>
<ul>
<li>measures diffusion of water in order to model tissue
microstructure</li>
<li>4D image (x, y, z + direction of diffusion)</li>
<li>need parameters about the strength of the diffusion “gradient” and
its direction (<code>.bval</code> and <code>.bvec</code>)</li>
</ul>
</div>
</section><section id="neuroimaging-file-formats"><h2 class="section-heading">Neuroimaging file formats<a class="anchor" aria-label="anchor" href="#neuroimaging-file-formats"></a>
</h2>
<hr class="half-width">
<table class="table">
<colgroup>
<col width="15%">
<col width="19%">
<col width="64%">
</colgroup>
<thead><tr class="header">
<th>Format Name</th>
<th>File Extension</th>
<th>Origin</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>DICOM</td>
<td>none</td>
<td>ACR/NEMA Consortium</td>
</tr>
<tr class="even">
<td>Analyze</td>
<td>.img/.hdr</td>
<td>Analyze Software, Mayo Clinic</td>
</tr>
<tr class="odd">
<td>NIfTI</td>
<td>.nii</td>
<td>Neuroimaging Informatics Technology Initiative</td>
</tr>
<tr class="even">
<td>MINC</td>
<td>.mnc</td>
<td>Montreal Neurological Institute</td>
</tr>
<tr class="odd">
<td>NRRD</td>
<td>.nrrd</td>
<td></td>
</tr>
</tbody>
</table>
<p>From the MRI scanner, images are initially collected in the DICOM
format and can be converted to these other formats to make working with
the data easier.</p>
<p>Let’s download some example DICOM data to see what it looks like.
This data was generously shared publicly by the <a href="https://brainhack-princeton.github.io/handbook/" class="external-link">Princeton
Handbook for Reproducible Neuroimaging</a>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">wget</span> https://zenodo.org/record/3677090/files/0219191_mystudy-0219-1114.tar.gz <span class="at">-O</span> ../data/0219191_mystudy-0219-1114.tar.gz</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> ../data/dicom_examples</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">tar</span> <span class="at">-xvzf</span> ../data/0219191_mystudy-0219-1114.tar.gz <span class="at">-C</span> ../data/dicom_examples</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">gzip</span> <span class="at">-d</span> ../data/dicom_examples/0219191_mystudy-0219-1114/dcm/<span class="pp">*</span>dcm.gz</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">rm</span> ../data/0219191_mystudy-0219-1114.tar.gz</span></code></pre>
</div>
<figure><img src="fig/dicom_to_nifti.png" alt="dicom-to-nifti" class="figure mx-auto d-block"></figure><p>NIfTI is one of the most ubiquitous file formats for storing
neuroimaging data. If you’re interested in learning more about NIfTI
images, we highly recommend <a href="https://brainder.org/2012/09/23/the-nifti-file-format/" class="external-link">this blog
post about the NIfTI format</a>. We can convert our DICOM data to NIfTI
using <a href="https://github.com/rordenlab/dcm2niix" class="external-link">dcm2niix</a>.</p>
<p>We can learn how to run <code>dcm2niix</code> by taking a look at its
help menu.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">dcm2niix</span> <span class="at">-help</span></span></code></pre>
</div>
<div id="converting-dicom-to-nifti" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="converting-dicom-to-nifti" class="callout-inner">
<h3 class="callout-title">Converting DICOM to NIfTI<a class="anchor" aria-label="anchor" href="#converting-dicom-to-nifti"></a>
</h3>
<div class="callout-content">
<p>Convert the Princeton DICOM data to NIfTI</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> ../data/dicom_examples/nii</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">dcm2niix</span> <span class="at">-z</span> y <span class="at">-o</span> ../data/dicom_examples/nii ../data/dicom_examples/0219191_mystudy-0219-1114/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>MRI can capture anatomical (structural), functional, or diffusion
features.</li>
<li>A number of file formats exist to store neuroimaging data.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-anatomy-of-nifti"><p>Content from <a href="anatomy-of-nifti.html">Anatomy of a NIfTI</a></p>
<hr>
<p>Last updated on 2024-02-29 |
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/episodes/anatomy-of-nifti.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How are MRI data represented digitally?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Introduce Python data types</li>
<li>Load an MRI scan into Python and understand how the data is
stored</li>
<li>Understand what a voxel is</li>
<li>Introduce MRI coordinate systems</li>
<li>View and manipulate image data</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In the last lesson, we introduced the NIfTI. We’ll cover a few
details to get started working with them.</p>
<section id="reading-nifti-images"><h2 class="section-heading">Reading NIfTI images<a class="anchor" aria-label="anchor" href="#reading-nifti-images"></a>
</h2>
<hr class="half-width">
<p><a href="https://nipy.org/nibabel/" class="external-link">NiBabel</a> is a Python package
for reading and writing neuroimaging data. To learn more about how
NiBabel handles NIfTIs, check out the <a href="https://nipy.org/nibabel/nifti_images.html" class="external-link">Working with NIfTI
images</a> page of the NiBabel documentation, from which this episode is
heavily based.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> nibabel <span class="im">as</span> nib</span></code></pre>
</div>
<p>First, use the <code>load()</code> function to create a NiBabel image
object from a NIfTI file. We’ll load in an example T1w image from the
zip file we just downloaded.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>t1_img <span class="op">=</span> nib.load(<span class="st">"../data/dicom_examples/nii/0219191_mystudy-0219-1114_anat_ses-01_T1w_20190219111436_5.nii.gz"</span>)</span></code></pre>
</div>
<p>Loading in a NIfTI file with <code>NiBabel</code> gives us a special
type of data object which encodes all the information in the file.Each
bit of information is called an <strong>attribute</strong> in Python’s
terminology. To see all of these attributes, type <code>t1_img.</code>
followed by <kbd>Tab</kbd>. There are three main attributes that we’ll
discuss today:</p>
<div class="section level3">
<h3 id="header-contains-metadata-about-the-image-such-as-image-dimensions-data-type-etc-">1. <a href="https://nipy.org/nibabel/nibabel_images.html#the-image-header" class="external-link">Header</a>:
contains metadata about the image, such as image dimensions, data type,
etc.<a class="anchor" aria-label="anchor" href="#header-contains-metadata-about-the-image-such-as-image-dimensions-data-type-etc-"></a>
</h3>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>t1_hdr <span class="op">=</span> t1_img.header</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="bu">print</span>(t1_hdr)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'nibabel.nifti1.Nifti1Header'&gt; object, endian='&lt;'
sizeof_hdr      : 348
data_type       : b''
db_name         : b''
extents         : 0
session_error   : 0
regular         : b''
dim_info        : 0
dim             : [ 3 57 67 56  1  1  1  1]
intent_p1       : 0.0
intent_p2       : 0.0
intent_p3       : 0.0
intent_code     : none
datatype        : uint8
bitpix          : 8
slice_start     : 0
pixdim          : [1.   2.75 2.75 2.75 1.   1.   1.   1.  ]
vox_offset      : 0.0
scl_slope       : nan
scl_inter       : nan
slice_end       : 0
slice_code      : unknown
xyzt_units      : 2
cal_max         : 0.0
cal_min         : 0.0
slice_duration  : 0.0
toffset         : 0.0
glmax           : 0
glmin           : 0
descrip         : b''
aux_file        : b''
qform_code      : mni
sform_code      : mni
quatern_b       : 0.0
quatern_c       : 0.0
quatern_d       : 0.0
qoffset_x       : -78.0
qoffset_y       : -91.0
qoffset_z       : -91.0
srow_x          : [  2.75   0.     0.   -78.  ]
srow_y          : [  0.     2.75   0.   -91.  ]
srow_z          : [  0.     0.     2.75 -91.  ]
intent_name     : b''
magic           : b'n+1'</code></pre>
</div>
<p><code>t1_hdr</code> is a Python <strong>dictionary</strong>.
Dictionaries are containers that hold pairs of objects - keys and
values. Let’s take a look at all of the keys. Similar to
<code>t1_img</code> in which attributes can be accessed by typing
<code>t1_img.</code> followed by <kbd>Tab</kbd>, you can do the same
with <code>t1_hdr</code>. In particular, we’ll be using a
<strong>method</strong> belonging to <code>t1_hdr</code> that will allow
you to view the keys associated with it.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>t1_hdr.keys()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['sizeof_hdr',
 'data_type',
 'db_name',
 'extents',
 'session_error',
 'regular',
 'dim_info',
 'dim',
 'intent_p1',
 'intent_p2',
 'intent_p3',
 'intent_code',
 'datatype',
 'bitpix',
 'slice_start',
 'pixdim',
 'vox_offset',
 'scl_slope',
 'scl_inter',
 'slice_end',
 'slice_code',
 'xyzt_units',
 'cal_max',
 'cal_min',
 'slice_duration',
 'toffset',
 'glmax',
 'glmin',
 'descrip',
 'aux_file',
 'qform_code',
 'sform_code',
 'quatern_b',
 'quatern_c',
 'quatern_d',
 'qoffset_x',
 'qoffset_y',
 'qoffset_z',
 'srow_x',
 'srow_y',
 'srow_z',
 'intent_name',
 'magic']</code></pre>
</div>
<p>Notice that <strong>methods</strong> require you to include () at the
end of them whereas <strong>attributes</strong> do not. The key
difference between a method and an attribute is:</p>
<ul>
<li>Attributes are stored <em>values</em> kept within an object</li>
<li>Methods are <em>processes</em> that we can run using the object.
Usually a method takes attributes, performs an operation on them, then
returns it for you to use.</li>
</ul>
<p>When you type in <code>t1_img.</code> followed by <kbd>Tab</kbd>,
you’ll see that attributes are highlighted in orange and methods
highlighted in blue.</p>
<p>The output above is a list of <strong>keys</strong> you can use from
<code>t1_hdr</code> to access <strong>values</strong>. We can access the
value stored by a given key by typing:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>t1_hdr[<span class="st">'&lt;key_name&gt;'</span>]</span></code></pre>
</div>
<div id="extract-values-from-the-nifti-header" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="extract-values-from-the-nifti-header" class="callout-inner">
<h3 class="callout-title">Extract values from the NIfTI header<a class="anchor" aria-label="anchor" href="#extract-values-from-the-nifti-header"></a>
</h3>
<div class="callout-content">
<p>Extract the value of pixdim from <code>t1_hdr</code></p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>t1_hdr[<span class="st">'pixdim'</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([1.  , 2.75, 2.75, 2.75, 1.  , 1.  , 1.  , 1.  ], dtype=float32)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="data">2. Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<p>As you’ve seen above, the header contains useful information that
gives us information about the properties (metadata) associated with the
MR data we’ve loaded in. Now we’ll move in to loading the actual
<em>image data itself</em>. We can achieve this by using the method
called <code>t1_img.get_fdata()</code>.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>t1_data <span class="op">=</span> t1_img.get_fdata()</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>t1_data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([[[ 8.79311806,  8.79311806,  8.79311806, ...,  7.73574093,
          7.73574093,  7.38328189],
        [ 8.79311806,  9.1455771 ,  8.79311806, ...,  8.08819997,
          8.08819997,  8.08819997],
        [ 9.1455771 ,  8.79311806,  8.79311806, ...,  8.44065902,
          8.44065902,  8.44065902],
        ...,
        [ 8.08819997,  8.44065902,  8.08819997, ...,  7.38328189,
          7.38328189,  7.38328189],
        [ 8.08819997,  8.08819997,  8.08819997, ...,  7.73574093,
          7.38328189,  7.38328189],
        [ 8.08819997,  8.08819997,  8.08819997, ...,  7.38328189,
          7.38328189,  7.03082284]],

       [[ 8.79311806,  9.1455771 ,  8.79311806, ...,  7.73574093,
          7.38328189,  7.38328189],
        [ 8.79311806,  9.1455771 ,  9.1455771 , ...,  8.08819997,
          7.73574093,  8.08819997],
        [ 8.79311806,  9.49803615,  9.1455771 , ...,  8.44065902,
          8.44065902,  8.44065902],
        ...,
        [ 8.08819997,  8.08819997,  8.08819997, ...,  7.38328189,
          7.38328189,  7.03082284],
        [ 8.08819997,  8.08819997,  8.08819997, ...,  7.38328189,
          7.38328189,  7.38328189],
        [ 8.08819997,  8.08819997,  8.08819997, ...,  7.38328189,
          7.38328189,  7.73574093]],

       [[ 9.1455771 ,  9.1455771 ,  8.79311806, ...,  7.73574093,
          7.38328189,  7.03082284],
        [ 9.1455771 ,  9.49803615,  9.1455771 , ...,  8.08819997,
          7.73574093,  7.38328189],
        [ 9.1455771 ,  9.49803615,  9.1455771 , ...,  8.08819997,
          8.08819997,  8.08819997],
        ...,
        [ 8.08819997,  8.44065902,  8.44065902, ...,  7.73574093,
          7.38328189,  7.38328189],
        [ 8.44065902,  8.08819997,  8.44065902, ...,  7.38328189,
          7.38328189,  7.38328189],
        [ 8.08819997,  8.08819997,  8.08819997, ...,  7.38328189,
          7.38328189,  7.38328189]],

       ...,

       [[ 9.49803615,  9.85049519,  9.85049519, ...,  7.38328189,
          7.38328189,  7.03082284],
        [ 9.85049519,  9.85049519,  9.85049519, ...,  7.38328189,
          7.38328189,  7.73574093],
        [ 9.85049519,  9.85049519, 10.20295423, ...,  8.08819997,
          8.08819997,  8.08819997],
        ...,
        [ 9.49803615,  9.1455771 ,  9.49803615, ...,  7.73574093,
          7.73574093,  7.73574093],
        [ 9.49803615,  9.49803615,  9.1455771 , ...,  7.73574093,
          8.08819997,  7.73574093],
        [ 9.49803615,  9.1455771 ,  8.79311806, ...,  8.08819997,
          7.73574093,  7.73574093]],

       [[ 9.49803615,  9.85049519, 10.20295423, ...,  7.38328189,
          7.38328189,  7.03082284],
        [ 9.1455771 ,  9.85049519,  9.1455771 , ...,  7.73574093,
          7.38328189,  7.38328189],
        [ 9.85049519,  9.85049519,  9.49803615, ...,  8.08819997,
          7.73574093,  8.08819997],
        ...,
        [ 9.49803615,  8.79311806,  9.1455771 , ...,  8.08819997,
          7.38328189,  7.73574093],
        [ 9.1455771 ,  9.1455771 ,  9.1455771 , ...,  7.73574093,
          8.08819997,  7.73574093],
        [ 8.79311806,  9.1455771 ,  9.1455771 , ...,  7.73574093,
          7.73574093,  7.38328189]],

       [[ 9.1455771 ,  8.79311806,  8.79311806, ...,  7.03082284,
          7.03082284,  6.6783638 ],
        [ 9.49803615,  9.85049519,  9.49803615, ...,  7.73574093,
          7.73574093,  7.73574093],
        [ 9.49803615,  9.49803615,  9.85049519, ...,  7.73574093,
          8.08819997,  7.73574093],
        ...,
        [ 8.79311806,  9.1455771 ,  9.1455771 , ...,  8.08819997,
          8.08819997,  8.08819997],
        [ 9.1455771 ,  9.1455771 ,  9.1455771 , ...,  8.08819997,
          8.08819997,  7.73574093],
        [ 8.79311806,  9.1455771 ,  9.1455771 , ...,  8.08819997,
          7.73574093,  7.73574093]]])</code></pre>
</div>
<p>What type of data is this exactly? We can determine this by calling
the <code>type()</code> function on <code>t1_data</code>.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">type</span>(t1_data)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">numpy.ndarray</span></span></code></pre>
</div>
<p>The data is a multidimensional <strong>array</strong> representing
the image data. In Python, an array is used to store lists of numerical
data into something like a table.</p>
<div id="check-out-attributes-of-the-array" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="check-out-attributes-of-the-array" class="callout-inner">
<h3 class="callout-title">Check out attributes of the array<a class="anchor" aria-label="anchor" href="#check-out-attributes-of-the-array"></a>
</h3>
<div class="callout-content">
<p>How can we see the number of dimensions in the <code>t1_data</code>
array? Once again, all of the attributes of the array can be seen by
typing <code>t1_data.</code> followed by <kbd>Tab</kbd>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>t1_data.ndim</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span></code></pre>
</div>
<p><code>t1_data</code> contains 3 dimensions. You can think of the data
as a 3D version of a picture (more accurately, a volume). <img src="fig/numpy_arrays.png" class="figure"></p>
</div>
</div>
</div>
</div>
<div id="check-out-attributes-of-the-array" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="check-out-attributes-of-the-array" class="callout-inner">
<h3 class="callout-title">Check out attributes of the array<em>(continued)</em><a class="anchor" aria-label="anchor" href="#check-out-attributes-of-the-array"></a>
</h3>
<div class="callout-content">
<p>While typical 2D pictures are made out of squares called
<strong>pixels</strong>, a 3D MR image is made up of 3D cubes called
<strong>voxels</strong>. <img src="fig/mri_slices.jpg" class="figure"><br>
What about the how big each dimension is (shape)?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Show me the solution</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>t1_data.shape</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(57, 67, 56)</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The 3 numbers given here represent the number of values <em>along a
respective dimension (x,y,z)</em>. This brain was scanned in 57 slices
with a resolution of 67 x 56 voxels per slice. That means there are:</p>
<p><code>57 * 67 * 56 = 213864</code></p>
<p>voxels in total!</p>
<p>Let’s see the type of data inside of the array.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>t1_data.dtype</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">dtype</span><span class="op">(</span><span class="st">'float64'</span><span class="op">)</span></span></code></pre>
</div>
<p>This tells us that each element in the array (or voxel) is a
floating-point number.<br>
The data type of an image controls the range of possible intensities. As
the number of possible values increases, the amount of space the image
takes up in memory also increases.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="bu">print</span>(np.<span class="bu">min</span>(t1_data))</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="bu">print</span>(np.<span class="bu">max</span>(t1_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6.678363800048828</span></span>
<span><span class="fl">96.55541983246803</span></span></code></pre>
</div>
<p>For our data, the range of intensity values goes from 0 (black) to
more positive digits (whiter).</p>
<p>How do we examine what value a particular voxel is? We can inspect
the value of a voxel by selecting an index as follows:</p>
<p><code>data[x,y,z]</code></p>
<p>So for example we can inspect a voxel at coordinates (10,20,3) by
doing the following:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>t1_data[<span class="dv">9</span>, <span class="dv">19</span>, <span class="dv">2</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">32.40787395834923</span></span></code></pre>
</div>
<p><strong>NOTE</strong>: Python uses <strong>zero-based
indexing</strong>. The first item in the array is item 0. The second
item is item 1, the third is item 2, etc.</p>
<p>This yields a single value representing the intensity of the signal
at a particular voxel! Next we’ll see how to not just pull one voxel but
a slice or an array of voxels for visualization and analysis!</p>
</div>
</section><section id="working-with-image-data"><h2 class="section-heading">Working with image data<a class="anchor" aria-label="anchor" href="#working-with-image-data"></a>
</h2>
<hr class="half-width">
<p>Slicing does exactly what it seems to imply. Giving our 3D volume, we
pull out a 2D <strong>slice</strong> of our data.</p>
<p><img src="fig/T1w.gif" class="figure"> From left to right: sagittal, coronal and
axial slices.</p>
<p>Let’s pull the 10th slice in the x axis.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>x_slice <span class="op">=</span> t1_data[<span class="dv">9</span>, :, :]</span></code></pre>
</div>
<p>This is similar to the indexing we did before to pull out a single
voxel. However, instead of providing a value for each axis, the
<code>:</code> indicates that we want to grab <em>all</em> values from
that particular axis.</p>
<div id="slicing-mri-data" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="slicing-mri-data" class="callout-inner">
<h3 class="callout-title">Slicing MRI data<a class="anchor" aria-label="anchor" href="#slicing-mri-data"></a>
</h3>
<div class="callout-content">
<p>Now try selecting the 20th slice from the y axis.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">Show me the solution</h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>y_slice <span class="op">=</span> t1_data[:, <span class="dv">19</span>, :]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="slicing-mri-data" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="slicing-mri-data" class="callout-inner">
<h3 class="callout-title">Slicing MRI data<em>(continued)</em><a class="anchor" aria-label="anchor" href="#slicing-mri-data"></a>
</h3>
<div class="callout-content">
<p>Finally, try grabbing the 3rd slice from the z axis</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">Show me the solution</h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>z_slice <span class="op">=</span> t1_data[:, :, <span class="dv">2</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>We’ve been slicing and dicing brain images but we have no idea what
they look like! In the next section we’ll show you how you can visualize
brain slices!</p>
</section><section id="visualizing-the-data"><h2 class="section-heading">Visualizing the data<a class="anchor" aria-label="anchor" href="#visualizing-the-data"></a>
</h2>
<hr class="half-width">
<p>We previously inspected the signal intensity of the voxel at
coordinates (10,20,3). Let’s see what out data looks like when we slice
it at this location. We’ve already indexed the data at each x, y, and z
axis. Let’s use <code>matplotlib</code>.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>slices <span class="op">=</span> [x_slice, y_slice, z_slice]</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="bu">len</span>(slices))</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a><span class="cf">for</span> i, <span class="bu">slice</span> <span class="kw">in</span> <span class="bu">enumerate</span>(slices):</span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>    axes[i].imshow(<span class="bu">slice</span>.T, cmap<span class="op">=</span><span class="st">"gray"</span>, origin<span class="op">=</span><span class="st">"lower"</span>)</span></code></pre>
</div>
<p>Now, we’re going to step away from discussing our data and talk about
the final important attribute of a NIfTI.</p>
<div class="section level3">
<h3 id="affine-tells-the-position-of-the-image-array-data-in-a-reference-space">3. <a href="https://nipy.org/nibabel/coordinate_systems.html" class="external-link">Affine</a>:
tells the position of the image array data in a reference space<a class="anchor" aria-label="anchor" href="#affine-tells-the-position-of-the-image-array-data-in-a-reference-space"></a>
</h3>
<p>The final important piece of metadata associated with an image file
is the <strong>affine matrix</strong>. Below is the affine matrix for
our data.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>t1_affine <span class="op">=</span> t1_img.affine</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>t1_affine</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([[  2.75,   0.  ,   0.  , -78.  ],
       [  0.  ,   2.75,   0.  , -91.  ],
       [  0.  ,   0.  ,   2.75, -91.  ],
       [  0.  ,   0.  ,   0.  ,   1.  ]])</code></pre>
</div>
<p>To explain this concept, recall that we referred to coordinates in
our data as (x,y,z) coordinates such that:</p>
<ul>
<li>x is the first dimension of <code>t1_data</code>
</li>
<li>y is the second dimension of <code>t1_data</code>
</li>
<li>z is the third dimension of <code>t1_data</code>
</li>
</ul>
<p>Although this tells us how to access our data in terms of voxels in a
3D volume, it doesn’t tell us much about the actual dimensions in our
data (centimetres, right or left, up or down, back or front). The affine
matrix allows us to translate between <em>voxel coordinates</em> in
(x,y,z) and <em>world space coordinates</em> in
(left/right,bottom/top,back/front). An important thing to note is that
in reality in which order you have:</p>
<ul>
<li>left/right</li>
<li>bottom/top</li>
<li>back/front</li>
</ul>
<p>Depends on how you’ve constructed the affine matrix, but for the data
we’re dealing with it always refers to:</p>
<ul>
<li>Right</li>
<li>Anterior</li>
<li>Superior</li>
</ul>
<p>Applying the affine matrix (<code>t1_affine</code>) is done through
using a <em>linear map</em> (matrix multiplication) on voxel coordinates
(defined in <code>t1_data</code>).</p>
<figure><img src="fig/coordinate_systems.png" class="figure mx-auto d-block"></figure><p>The concept of an affine matrix may seem confusing at first but an
example might help gain an intuition:</p>
<p>Suppose we have two voxels located at the the following coordinates:
<span class="math inline">\((64, 100, 2)\)</span></p>
<p>And we wanted to know what the distances between these two voxels are
in terms of real world distances (millimetres). This information cannot
be derived from using voxel coordinates so we turn to the <strong>affine
matrix</strong>.</p>
<p>Now, the affine matrix we’ll be using happens to be encoded in
<strong>RAS</strong>. That means once we apply the matrix our
coordinates are as follows:<br><code>(Right, Anterior, Superior)</code></p>
<p>So increasing a coordinate value in the first dimension corresponds
to moving to the right of the person being scanned.</p>
<p>Applying our affine matrix yields the following coordinates: <span class="math inline">\((10.25, 30.5, 9.2)\)</span></p>
<p>This means that:</p>
<ul>
<li>Voxel 1 is <code>90.23 - 10.25 = 79.98</code> in the R axis.
Positive values mean move right</li>
<li>Voxel 1 is <code>0.2 - 30.5 = -30.3</code> in the A axis. Negative
values mean move posterior</li>
<li>Voxel 1 is <code>2.15 - 9.2 = -7.05</code> in the S axis. Negative
values mean move inferior</li>
</ul>
<p>This covers the basics of how NIfTI data and metadata are stored and
organized in the context of Python. In the next segment we’ll talk a bit
about an increasingly important component of MR data analysis - data
organization. This is a key component to reproducible analysis and so
we’ll spend a bit of time here.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>NIfTI image contain a header, which describes the contents, and the
data.</li>
<li>The position of the NIfTI data in space is determined by the affine
matrix.</li>
<li>NIfTI data is a multi-dimensional array of values.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-data-organization-bids"><p>Content from <a href="data-organization-bids.html">Data organization with BIDS</a></p>
<hr>
<p>Last updated on 2024-02-28 |
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/episodes/data-organization-bids.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is BIDS?</li>
<li>Why is it important to structure our datasets coherently?</li>
<li>How can we convert raw datasets into BIDS-compatible datasets?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Become faimiliar with BIDS</li>
<li>Convert raw datasets to BIDS-compatible datasets</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p><a href="https://bids.neuroimaging.io/specification" class="external-link">Brain Imaging
Data Structure (BIDS)</a> is a simple and intuitive way to organize and
describe your neuroimaging and behavioural data. Neuroimaging
experiments result in complicated data that can be arranged in several
different ways. BIDS tackles this problem by suggesting a new standard
(based on consensus from multiple researchers across the world) for the
arrangement of neuroimaging datasets.</p>
<p>Using the same structure for all of your studies will allow you to
easily reuse all of your scripts between studies. Additionally, sharing
code with other researchers will be much easier.</p>
<section id="why-convert-the-community-to-bids"><h2 class="section-heading">Why convert the community to BIDS?<a class="anchor" aria-label="anchor" href="#why-convert-the-community-to-bids"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="share-data">Share data:<a class="anchor" aria-label="anchor" href="#share-data"></a>
</h3>
<ul>
<li>A common file structure for both computers and humans to
understand</li>
<li>Using file formats/conventions that are most common in
neuroimaging</li>
<li>Show completeness of the data right away</li>
</ul>
</div>
<div class="section level3">
<h3 id="build-better-pipelines">Build better pipelines:<a class="anchor" aria-label="anchor" href="#build-better-pipelines"></a>
</h3>
<ul>
<li>All the information you need to design a pipeline for a particular
dataset is machine readable</li>
<li>Pipelines can be more complex (under the hood) with fewer
command-line arguments</li>
</ul>
</div>
<div class="section level3">
<h3 id="bidsifying-your-dataset">bidsifying your dataset:<a class="anchor" aria-label="anchor" href="#bidsifying-your-dataset"></a>
</h3>
<ul>
<li>Convert your (raw) MRI data to the BIDS-compatible dataset
format</li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>BIDS is an organizational principle for neuroimaging data.</li>
<li>Converting a raw MRI dataset to a BIDS-compatible dataset
streamlines data processing pipelines.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-open-mri-datasets"><p>Content from <a href="open-mri-datasets.html">Exploring open MRI datasets</a></p>
<hr>
<p>Last updated on 2024-02-28 |
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/episodes/open-mri-datasets.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How does standardizing neuroimaging data ease the data exploration
process</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the BIDS format</li>
<li>Use PyBIDS in to easily explore a BIDS dataset</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="tutorial-dataset"><h2 class="section-heading">Tutorial Dataset<a class="anchor" aria-label="anchor" href="#tutorial-dataset"></a>
</h2>
<hr class="half-width">
<p>In this episode, we will be using a subset of a publicly available
dataset, <strong>ds000030</strong>, from <a href="https://openneuro.org/datasets/ds000030" class="external-link">openneuro.org</a>. All of
the datasets on OpenNeuro are already structured according to BIDS.</p>
</section><section id="downloading-data"><h2 class="section-heading">Downloading Data<a class="anchor" aria-label="anchor" href="#downloading-data"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="datalad">DataLad<a class="anchor" aria-label="anchor" href="#datalad"></a>
</h3>
<p><code>DataLad</code> installs the data - which for a dataset means
that we get the “small” data (i.e. the text files) and the download
instructions for the larger files. We can now navigate the dataset like
its a part of our file system and plan our analysis.</p>
<p>First, navigate to the folder where you’d like to download the
dataset.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="bu">cd</span> ~/Desktop/dc-mri/data</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">datalad</span> install ///openneuro/ds000030</span></code></pre>
</div>
<p>Let’s take a look at the <code>participants.tsv</code> file to see
what the demographics for this dataset look like.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>participant_metadata <span class="op">=</span> pd.read_csv(<span class="st">'../data/ds000030/participants.tsv'</span>, sep<span class="op">=</span><span class="st">'</span><span class="ch">\t</span><span class="st">'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>participant_metadata</span></code></pre>
</div>
<p><strong>OUTPUT:</strong></p>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
participant_id
</th>
<th>
diagnosis
</th>
<th>
age
</th>
<th>
gender
</th>
<th>
bart
</th>
<th>
bht
</th>
<th>
dwi
</th>
<th>
pamenc
</th>
<th>
pamret
</th>
<th>
rest
</th>
<th>
scap
</th>
<th>
stopsignal
</th>
<th>
T1w
</th>
<th>
taskswitch
</th>
<th>
ScannerSerialNumber
</th>
<th>
ghost_NoGhost
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
sub-10159
</td>
<td>
CONTROL
</td>
<td>
30
</td>
<td>
F
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
35343.0
</td>
<td>
No_ghost
</td>
</tr>
<tr>
<th>
1
</th>
<td>
sub-10171
</td>
<td>
CONTROL
</td>
<td>
24
</td>
<td>
M
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
35343.0
</td>
<td>
No_ghost
</td>
</tr>
<tr>
<th>
2
</th>
<td>
sub-10189
</td>
<td>
CONTROL
</td>
<td>
49
</td>
<td>
M
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
35343.0
</td>
<td>
No_ghost
</td>
</tr>
<tr>
<th>
3
</th>
<td>
sub-10193
</td>
<td>
CONTROL
</td>
<td>
40
</td>
<td>
M
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
35343.0
</td>
<td>
No_ghost
</td>
</tr>
<tr>
<th>
4
</th>
<td>
sub-10206
</td>
<td>
CONTROL
</td>
<td>
21
</td>
<td>
M
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
1.0
</td>
<td>
35343.0
</td>
<td>
No_ghost
</td>
</tr>
</tbody>
</table>
<p>From this table we can easily view unique diagnostic groups:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>participant_metadata[<span class="st">'diagnosis'</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['CONTROL', 'SCHZ', 'BIPOLAR', 'ADHD'], dtype=object)</code></pre>
</div>
<p>Imagine we’d like to work with participants that are either CONTROL
or SCHZ (<code>diagnosis</code>) and have both a T1w
(<code>T1w == 1</code>) and rest (<code>rest == 1</code>) scan. Also,
you’ll notice some of the T1w scans included in this dataset have a
ghosting artifact. We’ll need to filter these out as well
(<code>ghost_NoGhost == 'No_ghost'</code>).</p>
<p>We’ll filter this data out like so:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>participant_metadata <span class="op">=</span> participant_metadata[(participant_metadata.diagnosis.isin([<span class="st">'CONTROL'</span>, <span class="st">'SCHZ'</span>])) <span class="op">&amp;</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>                                            (participant_metadata.T1w <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                                            (participant_metadata.rest <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>                                            (participant_metadata.ghost_NoGhost <span class="op">==</span> <span class="st">'No_ghost'</span>)]</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>participant_metadata[<span class="st">'diagnosis'</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['CONTROL', 'SCHZ'], dtype=object)</code></pre>
</div>
<p>From this we have a list of participants corresponding to a list of
participants who are of interest in our analysis. We can then use this
list in order to download participant from software such as
<code>aws</code> or <code>datalad</code>. In fact, this is exactly how
we set up a list of participants to download for the fMRI workshop!
Since we’ve already downloaded the dataset, we can now explore the
structure using PyBIDS, a Python API for querying, summarizing and
manipulating the BIDS folder structure.</p>
<p>Getting and dropping data</p>
<p>datalad get datalad drop</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="im">from</span> bids.layout <span class="im">import</span> BIDSLayout</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>layout <span class="op">=</span> BIDSLayout(<span class="st">"~/Desktop/dc-mri/data/ds000030"</span>)</span></code></pre>
</div>
<p>The pybids layout object indexes the BIDS folder. Indexing can take a
really long time, especially if you have several subjects, modalities,
scan types, etc. <code>pybids</code> has an option to save the indexed
results to a SQLite database. This database can then be re-used the next
time you want to query the same BIDS folder.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>layout.save(<span class="st">"~/Desktop/dc-mri/data/ds000030/.db"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>layout <span class="op">=</span> BIDSLayout(<span class="st">"~/Desktop/dc-mri/data/ds000030"</span>, database_path<span class="op">=</span><span class="st">"~/Desktop/dc-mri/data/ds000030/.db"</span>)</span></code></pre>
</div>
<p>The pybids layout object also lets you query your BIDS dataset
according to a number of parameters by using a <code>get_*()</code>
method. We can get a list of the subjects we’ve downloaded from the
dataset.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>layout.get_subjects()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['10171',
 '10292',
 '10365',
 '10438',
 '10565',
 '10788',
 '11106',
 '11108',
 '11122',
   ...
 '50083']</code></pre>
</div>
<p>We can also pull a list of imaging modalities in the dataset:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>layout.get_modalities()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['anat', 'func']</code></pre>
</div>
<p>As well as tasks and more!:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co">#Task fMRI</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="bu">print</span>(layout.get_tasks())</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="co">#Data types (bold, brainmask, confounds, smoothwm, probtissue, warp...)</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="bu">print</span>(layout.get_types())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['rest']

['bold',
 'brainmask',
 'confounds',
 'description',
 'dtissue',
 'fsaverage5',
 'inflated',
 'midthickness',
 'participants',
 'pial',
 'preproc',
 'probtissue',
 'smoothwm',
 'warp']</code></pre>
</div>
<p>In addition we can specify sub-types of each BIDS category:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>layout.get_types(modality<span class="op">=</span><span class="st">'func'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['brainmask', 'confounds', 'fsaverage5', 'preproc']</code></pre>
</div>
<p>We can use this functionality to pull all our fMRI NIfTI files:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>layout.get(task<span class="op">=</span><span class="st">'rest'</span>, <span class="bu">type</span><span class="op">=</span><span class="st">'bold'</span>, extensions<span class="op">=</span><span class="st">'nii.gz'</span>, return_type<span class="op">=</span><span class="st">'file'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>TO FILL</code></pre>
</div>
<p>Finally, we can convert the data stored in <code>bids.layout</code>
into a <code>pandas.DataFrame</code> :</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>df <span class="op">=</span> layout.as_data_frame()</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>df.head()</span></code></pre>
</div>
<p><strong>OUTPUT:</strong></p>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
path
</th>
<th>
modality
</th>
<th>
subject
</th>
<th>
task
</th>
<th>
type
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
~/Desktop/dc-mri/data…
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
rest
</td>
<td>
bold
</td>
</tr>
<tr>
<th>
1
</th>
<td>
~/Desktop/dc-mri/data…
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
participants
</td>
</tr>
<tr>
<th>
2
</th>
<td>
~/Desktop/dc-mri/data…
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
~/Desktop/dc-mri/data…
</td>
<td>
anat
</td>
<td>
10565
</td>
<td>
NaN
</td>
<td>
brainmask
</td>
</tr>
<tr>
<th>
4
</th>
<td>
~/Desktop/dc-mri/data…
</td>
<td>
anat
</td>
<td>
10565
</td>
<td>
NaN
</td>
<td>
probtissue
</td>
</tr>
</tbody>
</table>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Public neuroimaging BIDS-compatible data repositories allow for
pulling data easily.</li>
<li>PyBIDS is a Python-based tool that allows for easy exploration of
BIDS-formatted neuroimaging data.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-bids-derivatives"><p>Content from <a href="bids-derivatives.html">BIDS derivatives</a></p>
<hr>
<p>Last updated on 2024-02-28 |
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/episodes/bids-derivatives.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are BIDS Apps?</li>
<li>What are containers?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn about neuroimaging applications using BIDS data
structures</li>
<li>Use neuroimaging applications through containers</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p><a href="https://bids-apps.neuroimaging.io/" class="external-link">BIDS Apps</a> are
containerized applications that run on BIDS data structures.</p>
<p>Some examples include:</p>
<ul>
<li>mriqc</li>
<li>fmriprep</li>
<li>freesurfer</li>
<li>ciftify</li>
<li>SPM</li>
<li>MRtrix3_connectome</li>
</ul>
<p>They rely on 2 technologies for container computing:</p>
<ul>
<li>
<strong>Docker</strong>
<ul>
<li>for building, hosting, and running containers on local hardware
(Windows, Mac OS, Linux) or in the cloud</li>
</ul>
</li>
<li>
<strong>Singularity</strong>
<ul>
<li>for running containers on high performance compute clusters</li>
</ul>
</li>
</ul>
<figure><img src="fig/bids_app.png" class="figure mx-auto d-block"></figure><p>Building a singularity container is as easy as:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">singularity</span> build mriqc-0.16.1.simg docker://poldracklab/mriqc:0.16.1<span class="kw">`</span></span></code></pre>
</div>
<p>To run the container:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">singularity</span> run <span class="at">--cleanenv</span> <span class="dt">\</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="at">-B</span> bids_folder:/data <span class="dt">\</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  mriqc-0.16.1.simg <span class="dt">\</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  /data /data/derivatives participant</span></code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>BIDS Apps are containerized applications that run on BIDS-compatible
datasets.</li>
</ul>
</div>
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/edit/main/README.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.4" class="external-link">sandpaper (0.16.4)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.5" class="external-link">pegboard (0.7.5)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.2" class="external-link">varnish (1.0.2)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/SDC-BIDS-IntroMRI/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/SDC-BIDS-IntroMRI/aio.html",
  "identifier": "https://carpentries-incubator.github.io/SDC-BIDS-IntroMRI/aio.html",
  "dateCreated": "2024-02-29",
  "dateModified": "2024-06-11",
  "datePublished": "2024-06-11"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

